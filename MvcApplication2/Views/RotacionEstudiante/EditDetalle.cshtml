@model IEnumerable<MvcApplication2.Models.RotacionEstudianteDetalle>

@{
    ViewBag.Title = "Edit";
}
<div class="row">
    <nav class="navbar navbar-default" role="navigation">
        <div class="container-fluid">
            <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li>@Html.ActionLink("Inicio", "VistaDepartamentoSalud/", "DepartamentoSalud")</li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                            Hoja de Vida<b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu">
                            <li>@Html.ActionLink("Estudiante", "BuscarEnDepartamento/", "Estudiante")</li>
                            <li>@Html.ActionLink("Docente", "BuscarEnDepartamento/", "Docente")</li>
                            <li class="divider"></li>
                            <li>@Html.ActionLink("Listado estudiantes", "EstadoHVdepto/", "Estudiante")</li>
                            <li>@Html.ActionLink("Listado docentes", "EstadoHVdepto/", "Docente")</li>
                        </ul>
                    </li>
                    <li>@Html.ActionLink("Rotación", "SeleccionRotacion/", "Rotacion")</li>
                    <li>@Html.ActionLink("Carta Presentación", "SeleccionRotacionCarta/", "IPS_ESE")</li>
                </ul>
            </div><!-- /.navbar-collapse -->
        </div><!-- /.container-fluid -->
    </nav>
</div>

 
        <div class="pull-left">
            @Html.ActionLink("Regresar ", "Index", new { id = ViewBag.rotacionId }, new { @class = "btn btn-primary" })
        </div>
   

@using (Html.BeginForm())
{
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)

    <fieldset>
        
        @Html.HiddenFor(model => model.ElementAt(0).rotacionEstudianteId)
        @Html.HiddenFor(model => model.ElementAt(0).RotacionEstudiante.Rotacion.rotacionId)


        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3">
                    <div class="well well-sm">
                        <fosrm class="form-horizontal" action="" method="post">
                            <fieldset>
                                <legend class="text-center">Rotación Estudiante</legend>
                                <!-- Name input-->
                                <!-- Email input-->
                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="email">IPS</label>
                                    <div class="col-md-9">
                                        @Html.DropDownList("IPS_ESEId", null, String.Empty, new { @class = "form-control" })


                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="email">Horario</label>
                                    <div class="col-md-9">
                                        
                                        <input id="horario" class="text-box single-line" type="text" name="horario" >

                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="email">Servicio</label>
                                    <div class="col-md-9">

                                        <input id="servicio" class="text-box single-line" type="text" name="servicio">

                                    </div>
                                </div>

                                <div class="form-group">
                                    <label class="col-md-3 control-label" for="email">Fecha Inicio</label>
                                    <div class="col-md-9">
                                        @Html.EditorFor(model => model.ElementAt(0).fecha_inicio)
                                   
                                    </div>
                                </div>
                                <div class="form-gsroup">
                                    <label class="col-md-3 control-label" for="email">Fecha Fin</label>
                                    <div class="col-md-9">
                                        @Html.EditorFor(model => model.ElementAt(0).fecha_terminacion)

                                    </div>
                                </div>


                               
                               
                                <!-- Form actions  -->
                                <div class="form-group">
                                    <div class="col-md-12 text-right">


                                        <input type="submit" class="btn btn-primary" value="Agregar" />
                                    </div>
                                </div>
                            </fieldset>
                        </fosrm>
                    </div>
                </div>

            </div>
        </div>

    </fieldset>

}



<div class="widget-content">

    <table class="table table-striped table-bordered">

        <tr>
            <th>
                IPS 
            </th>
            <th>
                Horario
            </th>
            <th>
                Servicio
            </th>
            <th>
                Fecha Inicio
            </th>
            <th>
                Fecha Fin
            </th>
            <th></th>
            <th></th>
        </tr>

        @foreach (var item in Model)
        {
            if( !item.fecha_terminacion.Equals(DateTime.Now.Date))
            { 
            <tr>
                <td>
              
                    @Html.DisplayFor(modelItem => item.IPS_ESE.nombre)
                </td>
                <td>

                    @Html.DisplayFor(modelItem => item.horario)
                </td>
                <td>

                    @Html.DisplayFor(modelItem => item.servicio)
                </td>
                <td>

                    @Html.DisplayFor(modelItem => item.fecha_inicio)
                </td>
                <td>

                    @Html.DisplayFor(modelItem => item.fecha_terminacion)
                </td>

                <td>

                    @Html.ActionLink("Borrar", "DeleteDetalle", new { id = item.rotacionEstudianteDetalleId })
                </td>

               
            </tr>
        }
        }
    </table>

    </div>


        <div>
        </div>
        @section Scripts {
            @Scripts.Render("~/bundles/jqueryval")
        }
